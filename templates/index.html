<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Batch Video Creator</title>
    <link href="https://cdn.tailwindcss.com" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Batch Video Creator</h1>
            <p>Create multiple video variations from your video library</p>
        </header>
        
        <main>
            <!-- Tab Navigation -->
            <div class="tab-nav">
                <button class="tab-btn active" data-tab="batch-creator">Batch Video Creator</button>
                <button class="tab-btn" data-tab="video-audio-merger">Video-Audio Merger</button>
                <button class="tab-btn" data-tab="voice-adder">Voice Adder</button>
            </div>
            
            <!-- Settings Panel -->
            <div class="settings-panel" id="settings-panel">
                <div class="card">
                    <h2><i class="fas fa-cog"></i> Settings</h2>
                    <div class="form-group">
                        <label for="video-quality">Video Quality</label>
                        <select id="video-quality" class="form-select">
                            <option value="low">Low (Smaller file size)</option>
                            <option value="medium" selected>Medium (Balanced)</option>
                            <option value="high">High (Better quality)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="enable-caching">
                            <input type="checkbox" id="enable-caching" checked> Enable Video Caching
                        </label>
                        <small>Cache processed videos for faster future processing</small>
                    </div>
                    <div class="form-group">
                        <label for="max-workers">Max Workers</label>
                        <input type="number" id="max-workers" min="1" max="16" value="4">
                        <small>Number of parallel processing threads (1-16)</small>
                    </div>
                    <div class="form-group">
                        <label for="skip-audio">
                            <input type="checkbox" id="skip-audio" checked> Skip Audio Processing
                        </label>
                        <small>Disable audio processing for faster video merging</small>
                    </div>
                    <div class="form-actions">
                        <button id="save-settings"><i class="fas fa-save"></i> Save Settings</button>
                        <button id="clear-cache"><i class="fas fa-trash"></i> Clear Cache</button>
                    </div>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-info-circle"></i> System Information</h2>
                    <div class="system-info">
                        <div class="info-item">
                            <span class="info-label">CPU Usage:</span>
                            <span class="info-value" id="cpu-usage">0%</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Memory Usage:</span>
                            <span class="info-value" id="memory-usage">0%</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Disk Usage:</span>
                            <span class="info-value" id="disk-usage">0%</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Cache Size:</span>
                            <span class="info-value" id="cache-size">0 MB</span>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button id="refresh-system-info"><i class="fas fa-sync"></i> Refresh</button>
                    </div>
                </div>
                
                <div class="close-settings" id="close-settings">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            
            <!-- Settings Button -->
            <div class="settings-button" id="settings-button">
                <i class="fas fa-cog"></i>
            </div>
            
            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Batch Creator Tab -->
                <div id="batch-creator" class="tab-pane active">
                    <!-- Folder Selection -->
                    <section class="card">
                <h2><i class="fas fa-folder-open"></i> Select Video Folder</h2>
                <div class="form-group">
                    <label for="input-folder-path">Input Folder Path</label>
                    <input type="text" id="input-folder-path" placeholder="Example: /Users/username/Videos">
                    <small>Enter the full path to the folder containing your MP4 videos</small>
                </div>
                <div class="form-group">
                    <label for="output-folder-path">Output Folder Path</label>
                    <input type="text" id="output-folder-path" placeholder="Example: /Users/username/Desktop/outputs">
                    <small>Enter the full path where you want to save the merged videos</small>
                </div>
                <button id="scan-btn"><i class="fas fa-search"></i> Scan Folder</button>
            </section>
            
            <!-- Video List -->
            <section id="video-list-section" class="card hidden">
                <h2><i class="fas fa-video"></i> Found Videos</h2>
                <div id="video-count" class="info"></div>
                <div id="video-list" class="video-grid"></div>
            </section>
            
            <!-- Configuration -->
            <section id="config-section" class="card hidden">
                <h2><i class="fas fa-cog"></i> Configuration</h2>
                <div class="config-grid">
                    <div class="form-group">
                        <label for="videos-per-output">Videos per Output</label>
                        <input type="number" id="videos-per-output" min="1" max="20" value="5">
                        <small>Number of videos to merge in each output (1-20)</small>
                    </div>
                    <div class="form-group">
                        <label for="video-duration">Video Duration (seconds)</label>
                        <input type="number" id="video-duration" min="0.1" step="0.1" value="10">
                        <small id="video-duration-description">Each video will be cut to this duration (start from 0s)</small>
                    </div>
                    <div class="form-group">
                        <label for="video-trim-mode">Trim Mode</label>
                        <select id="video-trim-mode" class="form-select">
                            <option value="fixed">Fixed Mode (start from 0s)</option>
                            <option value="random">Random Mode (random start position)</option>
                        </select>
                        <small>Select how videos should be trimmed</small>
                    </div>
                    <div class="form-group">
                        <label for="output-count">Number of Outputs</label>
                        <input type="number" id="output-count" min="1" max="10" value="1">
                        <small>How many merged videos to create (1-10)</small>
                    </div>
                </div>
                <button id="process-btn"><i class="fas fa-play"></i> Start Processing</button>
            </section>
            
            <!-- Progress -->
            <section id="progress-section" class="card hidden">
                <h2><i class="fas fa-tasks"></i> Processing Status</h2>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <div class="progress-text">0%</div>
                </div>
                <div id="status-message"></div>
            </section>
            
            <!-- Results -->
            <section id="results-section" class="card hidden">
                <h2><i class="fas fa-download"></i> Download Results</h2>
                <div id="download-links" class="download-grid"></div>
            </section>
                </div>
                
                <!-- Video-Audio Merger Tab -->
                <div id="video-audio-merger" class="tab-pane">
                    <!-- Folder Selection -->
                    <section class="card">
                        <h2><i class="fas fa-folder-open"></i> Select Folders</h2>
                        <div class="form-group">
                            <label for="video-folder-path">Video Folder Path</label>
                            <input type="text" id="video-folder-path" placeholder="Example: /Users/username/Videos">
                            <small>Enter the full path to the folder containing your MP4 videos</small>
                        </div>
                        <div class="form-group">
                            <label for="audio-folder-path">Audio Folder Path</label>
                            <input type="text" id="audio-folder-path" placeholder="Example: /Users/username/Music">
                            <small>Enter the full path to the folder containing your MP3/OGG audio files</small>
                        </div>
                        <div class="form-group">
                            <label for="output-folder-path-va">Output Folder Path</label>
                            <input type="text" id="output-folder-path-va" placeholder="Example: /Users/username/Desktop/outputs">
                            <small>Enter the full path where you want to save the merged videos</small>
                        </div>
                        <button id="scan-va-btn"><i class="fas fa-search"></i> Scan Folders</button>
                    </section>
                    
                    <!-- File Lists -->
                    <section id="va-file-list-section" class="card hidden">
                        <h2><i class="fas fa-file"></i> Found Files</h2>
                        <div class="form-group">
                            <label for="audio-trim-mode">Audio Trim Mode</label>
                            <select id="audio-trim-mode" class="form-select">
                                <option value="fixed">Fixed Mode (start from 0s)</option>
                                <option value="random">Random Mode (random start position)</option>
                            </select>
                            <small>Select how audio should be trimmed when merged with videos</small>
                        </div>
                        <div class="form-group">
                            <label for="audio-selection-mode">Audio Selection Mode</label>
                            <select id="audio-selection-mode" class="form-select">
                                <option value="unique">Unique Audio (different audio for each video)</option>
                                <option value="random">Random Audio (may repeat audio files)</option>
                            </select>
                            <small>Select how audio files should be assigned to videos</small>
                        </div>
                        <div class="file-counts">
                            <div id="video-count-va" class="info"></div>
                            <div id="audio-count-va" class="info"></div>
                        </div>
                        <div class="file-lists">
                            <div class="file-list-container">
                                <h3>Video Files</h3>
                                <div id="video-list-va" class="file-grid"></div>
                            </div>
                            <div class="file-list-container">
                                <h3>Audio Files</h3>
                                <div id="audio-list-va" class="file-grid"></div>
                            </div>
                        </div>
                        <button id="process-va-btn"><i class="fas fa-play"></i> Start Processing</button>
                    </section>
                    
                    <!-- Progress -->
                    <section id="va-progress-section" class="card hidden">
                        <h2><i class="fas fa-tasks"></i> Processing Status</h2>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill-va"></div>
                            </div>
                            <div class="progress-text-va">0%</div>
                        </div>
                        <div id="va-status-message"></div>
                    </section>
                    
                    <!-- Results -->
                    <section id="va-results-section" class="card hidden">
                        <h2><i class="fas fa-download"></i> Download Results</h2>
                        <div id="va-download-links" class="download-grid"></div>
                    </section>
                </div>
                
                <!-- Voice Adder Tab -->
                <div id="voice-adder" class="tab-pane">
                    <!-- Mode Selection -->
                    <section class="card">
                        <h2><i class="fas fa-microphone"></i> Processing Mode</h2>
                        <div class="form-group">
                            <label>Select Processing Mode</label>
                            <div class="mode-selector">
                                <label class="mode-option">
                                    <input type="radio" name="voice-mode" value="single" checked> Single File
                                </label>
                                <label class="mode-option">
                                    <input type="radio" name="voice-mode" value="batch"> Batch Processing
                                </label>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Single File Mode Section -->
                    <div id="voice-single-section">
                        <!-- File Selection -->
                        <section class="card">
                            <h2><i class="fas fa-microphone"></i> Select Files</h2>
                            <div class="form-group">
                                <label for="voice-video-file">Video File</label>
                                <input type="file" id="voice-video-file" accept="video/mp4">
                                <small>Select a MP4 video file</small>
                            </div>
                            <div class="form-group">
                                <label for="voice-audio-file">Voice Audio File</label>
                                <input type="file" id="voice-audio-file" accept="audio/mp3,audio/ogg,audio/wav">
                                <small>Select a voice audio file (MP3, OGG, or WAV)</small>
                            </div>
                        </section>
                    </div>
                    
                    <!-- Batch Processing Mode Section -->
                    <div id="voice-batch-section" class="hidden">
                        <!-- Folder Selection -->
                        <section class="card">
                            <h2><i class="fas fa-microphone"></i> Select Folders</h2>
                            <div class="form-group">
                                <label for="voice-video-folder-path">Video Folder Path</label>
                                <input type="text" id="voice-video-folder-path" placeholder="Example: /Users/username/Videos">
                                <small>Enter the full path to the folder containing your MP4 videos</small>
                            </div>
                            <div class="form-group">
                                <label for="voice-audio-folder-path">Voice Audio Folder Path</label>
                                <input type="text" id="voice-audio-folder-path" placeholder="Example: /Users/username/VoiceAudios">
                                <small>Enter the full path to the folder containing your voice audio files</small>
                            </div>
                            <button id="scan-voice-folders-btn"><i class="fas fa-search"></i> Scan Folders</button>
                        </section>
                        
                        <!-- File Lists Section (hidden initially) -->
                        <div id="voice-batch-file-list-section" class="card hidden">
                            <h2><i class="fas fa-file"></i> Found Files</h2>
                            <div id="voice-batch-info" class="info-box">
                                <h3><i class="fas fa-info-circle"></i> Batch Processing Information</h3>
                                <ul>
                                    <li>Videos and audio files will be paired sequentially (first video with first audio, etc.)</li>
                                    <li>If there are different numbers of files, only the minimum number of pairs will be processed</li>
                                    <li>The same volume settings will be applied to all videos</li>
                                </ul>
                            </div>
                            <div class="file-counts">
                                <div id="voice-video-count" class="info"></div>
                                <div id="voice-audio-count" class="info"></div>
                                <div id="voice-pairs-count" class="info"></div>
                            </div>
                            <div class="file-lists">
                                <div class="file-list-container">
                                    <h3>Video Files</h3>
                                    <div id="voice-video-list" class="file-grid"></div>
                                </div>
                                <div class="file-list-container">
                                    <h3>Voice Audio Files</h3>
                                    <div id="voice-audio-list" class="file-grid"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Shared Settings Section -->
                    <section class="card">
                        <h2><i class="fas fa-sliders-h"></i> Settings</h2>
                        <div class="form-group">
                            <label for="original-audio-volume">Original Audio Volume</label>
                            <div class="volume-control">
                                <input type="range" id="original-audio-volume" min="0" max="100" value="30">
                                <span id="volume-value">30%</span>
                            </div>
                            <small>Adjust the volume of the original video audio (0-100%)</small>
                        </div>
                        <div class="form-group">
                            <label for="output-folder-path-voice">Output Folder Path</label>
                            <input type="text" id="output-folder-path-voice" placeholder="Example: /Users/username/Desktop/outputs">
                            <small>Enter the full path where you want to save the output video(s)</small>
                        </div>
                        <button id="process-voice-btn"><i class="fas fa-play"></i> Process Video</button>
                    </section>
                    
                    <!-- File Info Section (for single mode) -->
                    <div id="voice-file-info-section" class="card hidden">
                        <h2><i class="fas fa-info-circle"></i> File Information</h2>
                        <div class="file-info-container">
                            <div class="file-info-item">
                                <h3>Video File</h3>
                                <div id="video-file-info" class="file-details"></div>
                            </div>
                            <div class="file-info-item">
                                <h3>Voice Audio File</h3>
                                <div id="audio-file-info" class="file-details"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Progress Section -->
                    <div id="voice-progress-section" class="card hidden">
                        <h2><i class="fas fa-tasks"></i> Processing Status</h2>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill-voice"></div>
                            </div>
                            <div class="progress-text-voice">0%</div>
                        </div>
                        <div id="voice-status-message"></div>
                    </div>
                    
                    <!-- Results Section -->
                    <div id="voice-results-section" class="card hidden">
                        <h2><i class="fas fa-download"></i> Download Results</h2>
                        <div id="voice-download-link" class="download-container"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script src="/static/js/main.js"></script>
</body>
</html>